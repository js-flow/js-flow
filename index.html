<html >
    <head>
        <title>JS-Flow.dev</title>
        <link rel="stylesheet" href="js-flow.css">
        <script src="jquery.js"></script>
        <script src="jquery-ui.js"></script>

        <!--customizations for custom node types-->
        <link rel="stylesheet" href="custom/orgchart.css">
        <script src="custom/orgchart.js"></script>

    </head>

    <style>
        /* some css overrides if necessary */
    </style>

    <script type="module">
        import * as jsFlow from "./js-flow.js";
        $(document).ready(function(){
            // var flowId = 'hello-world';
            // var flowId = "flowchart";
            var flowId = "orgchart";

            // jsFlow.callbacks.getCustomNodeContent =  function(_item) {
            //     console.log('here in doCustomNodeContent');
            //     console.log(_item);
            //     return _item;
            // }


            jsFlow.setStorageId(flowId);

            jsFlow.setSampleNodes([
                {"top":"140px","left":"200px","id":"div1",data:{"title":"Node11","content":"content 11"}},
                {"top":"300px","left":"500px","id":"div2",data:{"title":"Node22","content":"content 12"}},
                {"top":"400px","left":"500px","id":"div3",data:{"title":"Node33","content":"content 13"}}
            ]);

            jsFlow.setSampleLines ([
                {   "fromDiv":"#div1",
                    "toDiv":"#div2",
                    "id":"line1",
                    "mode":"",
                    "lineShape":"curved",
                    "stroke-dasharray":"",
                    "marker-start":"line",
                    "marker-end":"arrow",
                    "labelText":"",
                    "stroke-width":"3"
                },
                {   "fromDiv":"#div1",
                    "toDiv":"#div3",
                    "id":"line2",
                    "mode":"",
                    "lineShape":"curved",
                    "stroke-dasharray":"",
                    "marker-start":"line",
                    "marker-end":"circle",
                    "labelText":"line222",
                    "stroke-width":"3"
                }
            ]);

            jsFlow.loadInfo();
            jsFlow.addWidgets();
            jsFlow.addInspector();
            // draw nodes and lines based on current information
            jsFlow.drawNodes();
            jsFlow.drawLines();
        })
    </script>
    
    <div class="parentDiv">
        <div id="main">
            <div id="svgParent">
                <svg id="svgcontainer" width="100%" height="100%"  xmlns="http://www.w3.org/2000/svg">
                </svg>
            </div>
        </div>
    </div>
    <div id="controlLayer"></div>

</html>